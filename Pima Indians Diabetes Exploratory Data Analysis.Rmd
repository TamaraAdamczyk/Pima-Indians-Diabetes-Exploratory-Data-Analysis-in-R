---
title: "Pima Indians Diabetes: Exploratory Data Analysis"
author: "Tamara"
date: "2026-01-17"
output: 
  html_document:
    theme: cosmo
    toc: true
    toc_depth: 2
    toc_float: true
    number_sections: true
    code_folding: hide
    df_print: paged
---
```{r setup, include=FALSE}
knitr::opts_chunk$set(
  echo = TRUE,
  message = FALSE,
  warning = FALSE,
  fig.width = 7,
  fig.height = 5,
  fig.align = "center"
)
```

# DATA IMPORT

To perform this exploratory analysis, publicly available dataset was used. This dataset is originally from the National Institute of Diabetes and Digestive Kidney Diseases. The dataset consists of several medical predictor variables and one target variable, Outcome. Predictor variables include the number of pregnancies the patient has had, their BMI, insulin level, age, etc. Population includes adult Pima Indians.


The Kaggle export did not include column names, so the standard 9‑variable structure was assigned manually. The dataset was inspected with head() and str() to confirm types and ranges and cross-checked with Kaggle.
```{r import}
# Import and read data - Kaggle exported without the header row. The Pima Indians Diabetes dataset always uses the same standard 9-column structure so I'm asssigning them manually.
Pima <- read.csv("C:/Users/tamci/OneDrive/Desktop/R projects/PIMA Indians/pima-indians-diabetes.csv", header = FALSE)

colnames(Pima) <- c(
  "Pregnancies",
  "Glucose",
  "BloodPressure",
  "SkinThickness",
  "Insulin",
  "BMI",
  "DiabetesPedigreeFunction",
  "Age",
  "Outcome"
)

head(Pima)
str(Pima)
```
# DISTRIBUTION AND DATA QUALITY CHECKS

## DISTRIBUTION
Histograms were used to understand distribution for BMI and Glucose. 

The BMI variable in the Pima dataset contained a structurally impossible or implausible values, which are identified and removed as follows:

BMI < 10 or > 60
Implausible for adults; BMI = 0 indicates missing or miscoded height/weight. BMI > 60 - these can occur in cases of extreme obesity, but they are rare enough that analysts inspect them manually in 'real-life' analysis. For this analysis, BMI values that are extremely unlikely for adult populations were cleaned from the dataset for downstream analyses.

```{r histogram-data-clean}
# Using a histogram to view the data distribution (BMI)
hist(Pima$BMI, main="Histogram of BMI", xlab="BMI (kg/m²)")

# Using the subset() function to check for extreme BMI values (>60) to assess potential outliers or data entry issues
subset(Pima, BMI > 60)

# Using the subset function to look at BMI values outside a plausible range (<10 or >60) for data quality review
subset(Pima, BMI > 60 | BMI < 10)
# Identify extreme or implausible BMI values (>60 or <10) for data quality checks
# BMI of 0 indicates missing or miscoded height/weight, not a real value

# Define a plausible adult BMI range (10–60); values outside this range are
# considered implausible or extreme and are removed for data quality purposes
Pima_clean <- subset(Pima, BMI >= 10 & BMI <= 60)
```
Furthermore, a glucose value of 0 mg/dL is not physiologically possible for a living adult. Therefore, all rows containing a glucose value of 0 were treated as missing data and removed from the analysis. 

```{r histogram-data-clean-glucose}
# Using a histogram to view the data distribution (Glucose)
hist(Pima_clean$Glucose, main = "Histogram of glucose", xlab = "Glucose (mg/dL)")

# Remove impossible glucose values (0 indicates missing or miscoded data)
Pima_clean <- subset(Pima_clean, Glucose != 0)
```
# DESCRIPTIVE STATISTICS
Descriptive statistics are generated using a list() function , and include:

- Summary statistics using summary() function
- Standard deviation
- Variance
- Range
- Inter‑quartile range

These summaries are produced for both BMI and Glucose after cleaning i.e. using Pima-clean dataset.

```{r descriptive-statistics}
# Descriptive statistics for BMI
list(
  "Summary BMI" = summary(Pima_clean$BMI),
  "SD" = sd(Pima_clean$BMI, na.rm = TRUE),
  "Variance" = var(Pima_clean$BMI, na.rm = TRUE),
  "Range" = range(Pima_clean$BMI, na.rm = TRUE),
  "Inter-Quartile Range" = IQR(Pima_clean$BMI, na.rm = TRUE)
)

# Descriptive statistics for Glucose
list(
  "Summary Glucose" = summary(Pima_clean$Glucose),
  "SD" = sd(Pima_clean$Glucose, na.rm = TRUE),
  "Variance" = var(Pima_clean$Glucose, na.rm = TRUE),
  "Range" = range(Pima_clean$Glucose, na.rm = TRUE),
  "Inter-Quartile Range" = IQR(Pima_clean$Glucose, na.rm = TRUE)
)
```
# CORRELATION ANALYSIS
Both Pearson and Spearman correlations were calculated to assess the association between BMI and fasting glucose. 

```{r scatterplot-correlation}
# Calculating the correlation coefficient and creating the scatterplot of the two variables.
# Plotting scatterplot
plot(Pima_clean$Glucose,Pima_clean$BMI, xlab="Glucose (mg/dL)", ylab="BMI (kg/m²)")

# Calculating the Pearson’s correlation coefficient to assess a linear association between the two variables
cor.test(Pima_clean$Glucose,Pima_clean$BMI, use = "complete.obs", method = "pearson")

# Looking at the Spearman's for comparison
cor.test(Pima_clean$Glucose,Pima_clean$BMI, use = "complete.obs", method = "spearman")
```

# FINDINGS:
- A weak but statistically significant positive association
- Pearson r ≈ 0.24
- Spearman ρ ≈ 0.23
- Large sample size makes even modest effects detectable
- This suggests that higher BMI is associated with higher glucose, but BMI alone explains only a small portion of glucose variability.